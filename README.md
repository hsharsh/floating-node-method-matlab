# Crack propogation with FNM

The code includes several modules. They are described below:
##### Floating node solver (floating_node_solver)
  - _assemble_fi_: Assembly of Internal forces (Kg*u) 
  - _assemble_mg_: Assembly of linearized mass matrix
  - _boundary_conditions_: Temperorary boundary conditions
  - _general_boundary_conditions_: Boundary conditions active throughout the time domain
  - _compute_num_: Helper function to compute the number of extra nodes to be added
  - _cont_kl_: Computes local stiffness matrix given the position of nodes and Young's modulus
  - _cont_ml_: Compute local mass matrix given the position of nodes and density
  - _crack_definition_: Introduces crack in element explicitly.
  - _elements.inp_: Contains the data on connectivity matrix of the problem.
  - _floating_nodes_: Activates the floating nodes
  - _fnm_: Main driver program for the method
  - _generate_dof_: Helper function to compute and the degree of freedom for cracked elements
  - _generate_element_: Generates the structure to store floating node elements
  - _nodes_pos_: Helper function to compute the connectivity (including floating nodes) for each sub-element
  - _nodes.inp_: Contains the data on the position of each node in space (in undeformed coordinates)
  - _update_un_: Updates the velocity of the floating nodes added in the global assembly

##### Input file generator (input_file_generator)
  - _abaqus_input_parser_: Ipython notebook for parsing Abaqus input and generating _nodes.inp_ and _elements.inp_
  - _gmsh-mesh-circular_: gmsh file for generating (structured) meshes of thick cyllinder type
  - _gmsh-mesh-inclined_: gmsh file for generating (structured) meshes of inclined rectangle type
  - _gmsh-mesh_: gmsh file for generating (structured) meshes of rectangle type
  - _mesh_inp.inp_: Abaqus file generated by gmsh to parse for the _abaqus_input_parser_
  - _structure_: The structure of rectangular mesh generation by gmsh

### Running a simulation

To run a simulation, a few things need to be changed depending on the problem:
  - Update the problem depenedent boundary conditions in _boundary_conditions_ and _general_boundary_conditions_.
  - Update the crack definition depeding on the problem
  - Generate the input file for the simulation by updating the _.geo_ file (say _gmsh-mesh.geo_) and then running the following comand

```sh
$ gmsh gmsh-mesh.geo -2 -o mesh_inp.inp
```
  - Parse the mesh by running the ipython notebook _abaqus_input_parser.py.ipython_.
  - Change the value of **ny** in the main driver program _fnm_ based on the problem.
  - Add the elements of the mesh which needs to be skipped from the visualization in **skip**.
  - Run the matlab driver _fmn.m_
